<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criando views e rotas no Django</title>
    <link rel="stylesheet" href="hora.css">
</head>
<body>
    <!--Header of the page-->
    <header>
        <div class="container">
            <div id="fundo">
                <figure>
                    <img src="https://horadecodar.com.br/wp-content/uploads/2022/11/logo.webp" alt="Logo do hora de codar" class="Logo">
                </figure>

                <nav class="header">
                    <button class="Bo B1">
                        <b>Hora de codar</b>
                    </button>
                    <button class="Bo B2">
                        <b>Blog</b>
                    </button>
                    <button class="Bo B3">
                        <b>Contato</b>
                    </button>
                    <button class="Bo B4">
                        <b>Comunidade</b>
                    </button>
                </nav>
            </div>
        </div>

    </header>
    
    <!--Parte principal do site-->
    <main>
        <section id="box">
            <h1 class="boxc">Criando Views e Rotas no Django 2</h1>
        </section>
        <!--<aside>
            <div class="aside">
                <button class="Bo B1">
                    <b>Hora de codar</b>
                </button>
                <button class="Bo B2">
                    <b>Blog</b>
                </button>
                <button class="Bo B3">
                    <b>Contato</b>
                </button>
                <button class="Bo B4">
                    <b>Comunidade</b>
                </button>
            </div>
        </aside>-->
        <p1 class="um">Neste artigo vamos ver como criar rotas e destinar views para as mesmas no Django</p1>

        <figure>
            <img src="	https://cdn-images-1.medium.com/max/800/1*pWrig4b4MlSICZxjuC6L1w.png" alt="Logo do Django" class="logo" id="logo">
        </figure>
        <p class="t1">Fala galera, tudo certo?<br><br>

        Continuando a s√©rie do Django, neste artigo vamos criar o projeto que nos acompanhar√° at√© o fim.<br><br>

        Algumas rotas que o constituir√£o e aprender a ligar views com rotas.<br></p>

        <p class="t2">Posts anteriores e reposit√≥rio:<br></p>
        <p class="t1">Para voc√™ que chegou de paraquedas e quer acompanhar, estamos na parte 2, confira a parte 1:<br></p>

        <p class="t2">Instalando Django 2 e criando um projeto:<br></p>
        <p class="t1">Para quem quer clonar o projeto ou dar um fork clique aqui!<br></p>

        <!--Horizontal line-->
        <hr>


        <!--Propaganda-->
        <figure class="pro">
            <img src="	https://horadecodar.com.br/wp-content/uploads/2023/02/ad-comunidade-hora-de-codar-post-2.png" alt="Propaganda" class="propaganda">
        </figure>

        <!--Horinzontal line-->
        <hr>

        <p class="t2">Nosso projeto:</p>
        <p class="t1">Estava procurando alguns projetos de exemplo, e cheguei a uma conclus√£o que com um blog podemos abordar todos os<br>
            recursos que aqui desejo passar a voc√™s.<br><br>

            Ent√£o criaremos um projeto de um blog do 0 ao at√© espremer tudo que o Django pode nos oferecer.</p>

        <p class="t1">
            E √© claro que se voc√™ s√≥ tiver interesse no conte√∫do fique livre para acompanhar, seja fazendo um fork do projeto ou criando um.
        </p>


        <p class="t2">
            Sem mais delongas!
        </p>

        <p class="t1">
            Vamos criar o projeto com o comando no seu diret√≥rio de prefer√™ncia:<br><br>

            django-admin startproject meuprojeto
            A seguinte estrutura de pastas e arquivos deve ter sido criada:
        </p>

        <figure>
            <img src="	https://cdn-images-1.medium.com/max/800/1*_i9DIBz0LACt_vDsJPPZ8w.png" alt="Estrutura de pastas e arquivos Django" class="arquivos">
        </figure>

        <p class="t1">
            J√° de cara, como todo framework, a quantidade de arquivos nos come√ßa a dar aquela preocupa√ß√£o ( o Django at√© que pega<br> leve com isso )
            <br><br>
            √â por isso que vamos dar uma pincelada em todos!
        </p>

        <p class="t2">
            Entendendo a estrutura inicial do Django:
        </p>

        <p class="t1">
            Primeiramente ele cria duas pastas: uma que vai abrigar o projeto todo.
            <br><br>
            Depois com o mesmo nome ele cria uma pasta que abrigar√° os arquivos de configura√ß√£o do projeto.
        </p>

        <!--List of elements-->
        <ul>
            <li>.[projectname]/__init__.py: O Python utiliza este arquivo para saber que esta pasta √© um m√≥dulo, h√° uma explica√ß√£o mais 
            <br>t√©cnica aqui, n√£o far√° muita diferen√ßa para n√≥s, mas digamos que o Django sabe que tem arquivos para serem executados;</li>
            <br>
            <li>[projectname]/settings.py: Arquivo principal de configura√ß√£o do projeto, contem por exemplo: diret√≥rio base, middlewares,<br> aplicativos do projeto, path dos arquivos est√°ticos;</li>
            <br>
            <li>[projectname]/urls.py: Arquivo principal de configura√ß√£o de URLs da aplica√ß√£o e do admin, embora cada m√≥dulo tamb√©m tenha<br> seu arquivo de url, esse √© o principal;</li>
            <br>
            <li>[projectname]/wsgi.py: O Django utiliza o WSGI para dar deploy nas aplica√ß√µes, seria o jeito Pythonico de dar deploy em uma<br> app, novamente para os curiosos: entenda o padr√£o WSGI clicando aqui.</li>
            <br>
            <li>manage.py: Este arquivo controla muitas coisas que acontecem no framework, como por exemplo: o built-in server do Django,<br>cria√ß√£o de m√≥dulos e etc.</li>

        </ul>

        <p class="t1">
            Dito isso, agora sabemos o que fazem os arquivos que s√£o criados automaticamente pelo Django quando iniciamos um projeto.
            <br><br>

            Assim para atingir nosso objetivo que √© criar as urls e algumas views, precisamos criar um m√≥dulo e habilitar estes recursos nele.
        </p>

        <p class="t2">
            Criando nosso primeiro m√≥dulo:
        </p>

        <p class="t1">
            O Django tem um conceito modular, e aqui √© f√°cil nos confundirmos entre m√≥dulos(app) e projetos.
            <br><br>
            Temos dois comandos que automatizam a cria√ß√£o deles:
        </p>

        <!--List of elements-->
        <ul>
            <li><b>startproject</b>: inicia um projeto, utilizaremos uma √∫nica vez;</li>
            <li><b>startapp</b>: inicia um m√≥dulo/app, utilizaremos de uma a x vezes, em que x seria o n√∫mero de m√≥dulos do projeto;</li>
        </ul>

        <p class="t1"><b>O que √© um projeto?</b>
            <br><br>
            Basicamente a estrutura que comportar√° nossos m√≥dulos e todos os demais arquivos da aplica√ß√£o.
            <br><br>
            <b>O que √© um m√≥dulo?</b>
            <br><br>
            Podemos facilmente exemplificar pensando num e-commerce que tenha um blog, um dos m√≥dulos seria o e-commerce e o<br> outro o blog, assim sendo nesta estrutura teremos um projeto e dois m√≥dulos.
            <br><br>
            Essa explica√ß√£o serve para nos alinharmos futuramente quando vamos falar bastante nestes dois termos, temos que entender<br> como o framework funciona, n√£o √©?
            <br><br>
            Para criar o m√≥dulo, dentro do diret√≥rio do projeto digite:
            <br><br>
            django-admin startapp blog
            Apesar de nossa aplica√ß√£o ser um blog, o blog em si ser√° um m√≥dulo.
            <br><br>
            Agora com o m√≥dulo blog criado, vamos criar as URLs, devemos fazer alguns procedimentos para configurar o projeto com<br> nosso novo app e deixa-lo apto a receber urls.
            <br><br>
            obs: este procedimento precisa ser feito a cada app criado, ent√£o vale entender bem o que acontece aqui.
            <br><br>
            Primeiro vamos registrar o m√≥dulo, todo m√≥dulo criado deve ser registrado para que a aplica√ß√£o o reconhe√ßa, ent√£o no arquivo:
            <br><br>
            myproject/settings.py<br>
            Adcione a constante INSTALLED_APPS o projeto blog, dever√° ficar assim:
        </p>

        <figure>
            <img src="	https://cdn-images-1.medium.com/max/800/1*Zz57tU2NK4MoAjmuHcxi8w.png" alt="Lista de apps na pasta settings do projeto Django" class="arquivosdois">
        </figure>

        <p class="t1">
            Depois crie um arquivo chamado urls.py dentro da pasta blog, e neste arquivo insira o seguinte c√≥digo:
            <br><br>
            from django.urls import path<br>
            from . import views<br>
            urlpatterns = [<br>

            &nbsp &nbsp &nbspPath('', views.post_list, name='post_list'),<br>

            ]<br>
            Este arquivo vai conter todas as urls do nosso app blog, e cada app deve ter uma arquivo desse.
            <br><br>
            Note que estamos importando uma view, chamada post_list, logo mais iremos criar ela.
            <br><br>
            Vamos agora no arquivo de urls principal, registrar as urls do aplicativo blog, abra o arquivo:
            <br><br>
            myproject/myproject/urls.py
            E deixe o arquivo deste jeito:
            <br><br>
            from django.contrib import admin<br>
            from django.urls import path, include<br>
            urlpatterns = [<br>
            &nbsp &nbsp &nbsp path('', include('blog.urls')),<br>
            &nbsp &nbsp &nbsp path('admin/', admin.site.urls),<br>
            ]<br>
            Primeiramente s√£o importados alguns componentes:
            
            <!--List of elements-->
            <ul>
                <li><b>admin</b>: n√£o se preocupe agora com este, nos pr√≥ximos tutoriais teremos a explica√ß√£o;</li>
                <br>
                <li><b>path</b>: este m√©todo cria as urls, recebe par√¢metros como o pr√≥prio path e a view ou conjunto de views que ser√£o acessadas;</li>
                <br> 
                <li><b>include</b>: serve para incluirmos um conjunto de views, como √© feito nas do blog;</li>
                <br>
            </ul>
        </p>

        <p class="t1">
            Este arquivo representa todas as urls do projeto, no caso todas as urls que criamos no app blog, ser√£o importadas para o<br> projeto a partir da linha:
            <br><br>
            path('', include('blog.urls'))<br>
            Para finalizar, vamos criar a nossa primeira view, de forma simples, mas para que voc√™ entenda o fluxo, abra o arquivo views.py<br> do app blog e escreva o seguinte c√≥digo:
            <br><br>
            from django.shortcuts import render<br>
            from django.http import HttpResponse<br>
            def post_list(request):<br>
            return HttpResponse('Ol√° Mundo!')
        </p>


        <P class="t2">
            Quem √© HttpResponse?
        </P>

        <p class="t1">
            Um m√©todo que retorna uma resposta a uma requisi√ß√£o HTTP, utilizamos pois √© uma maneira f√°cil de fazer um debug e ver se a<br> view est√° funcionando corretamente.
            <br><br>
            Agora vamos testar o que codamos, abra o terminal e digite na raiz do projeto o comando para rodar o server:
            <br><br>
            python3 manage.py runserver<br>
            V√° para o link indicado pelo terminal, que deve ser algo pr√≥ximo de http://127.0.0.1:8000/ e veja se a p√°gina ficou parecida com<br> esta:
        </p>

        <figure>
            <img src="	https://cdn-images-1.medium.com/max/800/1*rxb5IGGp9RCsfqObvehxQw.png" alt="Imagem do servidor rodando" class="servidor">
        </figure>

        <p class="t1">
            E congratulations, voc√™ criou uma estrutura de rotas e direcionou para uma view a 'home' do projeto.
            <br><br>
            Apenas para adiantar um pouco nosso trabalho futuro, vamos criar mais algumas urls que utilizaremos no projeto, aproveite<br> para treinar mais um pouco.
            <br><br>
            Deixe o arquivo de urls desta maneira:
            <br><br>
            urlpatterns = [<br>
            &nbsp &nbsp &nbsp path('', views.post_list, name='post_list'),<br>
            &nbsp &nbsp &nbsp path('sobre-nos/', views.about, name='about'),<br>
            &nbsp &nbsp &nbsp path('contato/', views.contact, name='contact'),<br>
            ]<br>
            Crie estas fun√ß√µes no arquivo de views:
            <br><br>
            def about(request):<br>
            &nbsp &nbsp &nbsp return HttpResponse('Sobre n√≥s.')<br>
            &nbsp &nbsp &nbsp def contact(request):<br>
            return HttpResponse('P√°gina de contato.')<br>
        </p>
    </main>
    
    <!--Conclus√£o do site-->
    <footer>
        <p class="t2">Conclus√£o</p>

        <p class="t1">
            Criamos o nosso projeto, que vamos atualizar ele nesta sequ√™ncia de posts, e foi explicado em detalhes a estrutura inicial de<br> um projeto criado pelo Django.
            <br><br>
            Depois criamos um app chamado blog, que servir√° para abrigar todos os recursos do blog.
            <br><br>
            Alimentamos uma view no app blog, e importamos ela para o projeto, assim todas as urls do blog poder√£o ser acessadas sem<br> problemas.
            <br><br>
            Para finalizar criamos uma view que est√° sendo chamada na url '/' do projeto, ela vai representar uma lista de posts, e por isso a<br> chamamos de post_list e ser√° a nossa home.
            <br><br>
            Agora podemos criar apps para outras partes da aplica√ß√£o, novas urls e views, por enquanto utilizamos apenas o<br> HttpResponse, para n√£o misturar muitos conceitos, mas futuramente adicionaremos templates e depois faremos intera√ß√µes<br> com o banco nestas views.
            <br><br>
            Confira tamb√©m o nosso canal do <strong>Youtube<strong> com muito conte√∫do sobre programa√ß√£o, clicando aqui.
            <br><br>
            Espero que tenham gostado, batam aquela palminha e da aquele follow que me ajuda muito, motiva a gente ver a notifica√ß√£o<br> que algu√©m seguiu. üôÇ
            <br><br>
            Caso tenham alguma d√∫vida, escrevem na √°rea de coment√°rios abaixo.
            <br><br>
            Obrigado e at√© o pr√≥ximo!
        </p>
    </footer>

    <script src="./script.js"></script>
 
</body>
</html>